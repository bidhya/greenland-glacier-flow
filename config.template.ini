# ============================================================================
# Workflow configuration for Greenland glacier flow processing
# ============================================================================
# NOTE: This config was originally used in the older step 1b workflow but has been updated and enhanced for current batch processing operations.
#
# BATCH PROCESSING USAGE:
# -----------------------
# This config file serves as the single source of truth for workflow settings.
# For batch runs, most parameters are set here and only satellite type and 
# region range need to be specified on the command line.
#
# TYPICAL BATCH COMMANDS:
#   ./submit_job.sh --satellite sentinel2 --start-end-index 0:25
#   ./submit_job.sh --satellite sentinel2 --start-end-index 25:50
#   ./submit_job.sh --satellite landsat --start-end-index 0:100
#
# CONFIGURATION PRIORITY:
#   1. Command-line arguments (highest priority)
#   2. Values in this config.ini file
#   3. Script defaults (fallback only)
#
# KEY PARAMETERS FOR BATCH RUNS:
#   - Set in config.ini: date1, date2, memory, runtime, cores, base_dir
#   - Override via CLI: satellite, start_end_index (or regions)
#   - Leave empty in config.ini: regions, start_end_index (use CLI instead)
#
# BATCH PROCESSING NOTES:
#   - Regions are processed in alphabetical order (consistent across satellites)
#   - start_end_index uses Python slicing (0:25 = first 25 regions)
#   - Job names and log files automatically include batch range suffix
#   - Example: sentinel2_20250101_0_25.job, satellite_glacier_0_25.log
#
# For detailed documentation, see:
#   - PRODUCTION_WORKFLOW.md (operational procedures)
#   - docs/ARCHITECTURE.md (system architecture)
#   - AGENTS.md (AI agent guide with full context)
#
# ⚠️ IMPORTANT: DO NOT COMMENT OUT OR DELETE VARIABLE LINES
#   - To disable a parameter, leave it EMPTY after the equals sign (e.g., regions = )
#   - Commenting out or deleting lines will cause ConfigParser errors and script failure
#   - Example: Use "regions = " NOT "#regions = 134_Arsuk"
#
# ============================================================================

[REGIONS]
# List of glacier regions to process (comma-separated, no spaces)
# If empty: processes all 192 regions (or subset defined by start_end_index)
# If specified: processes only listed regions (cannot use with start_end_index)
# Examples: 134_Arsuk  OR  134_Arsuk,101_sermiligarssuk,191_Hagen_Brae
# 101_sermiligarssuk,102_silardleq,104_sorgenfri,105_sortebrae,191_Hagen_Brae
# 191_Hagen_Brae has 4 mgrs tiles 26XMR,26XNR,26XMQ,26XNQ and area of 10,000 km2
# 139_SouthLindenow: big,  140_CentralLindenow:small, 141_NorthLindenow:medium
regions =
#regions = 134_Arsuk,101_sermiligarssuk

# Start and end index for region processing (alternative to regions list)
# Format: start:end (e.g., 0:10 or 5: for start=5 to end of list)
# Leave empty to use regions list instead
# Provide via command line for batch runs
# This takes precedence over the regions list if both are set
start_end_index =

[DATES]
# Start and end dates (inclusive) in ISO format
# date2 can be future and script will still pull upto the latest available data
date1 = 2025-01-01
date2 = 2025-12-31

[PATHS]
# Base output directory to download, clip, and save files (on HPC)
#base_dir = /fs/project/howat.4/yadav.111/greenland_glacier_flow
base_dir = /fs/project/howat.4-3/greenland_glacier_flow
# Base output directory for local runs (WSL/Ubuntu)
local_base_dir = /home/bny/greenland_glacier_flow

[FLAGS]
# Workflow flags [1 = True, 0 = False]
download_flag = 1
post_processing_flag = 1
clear_downloads = 0

[SETTINGS]
# Number of cores to use for multiprocessing
cores = 1
# Memory allocation for SLURM job (e.g., used 60G for 2025)
memory = 60G
# Runtime for SLURM job (HH:MM:SS format). batch of 25 Sentinel-2 regions requires ~24 hours
runtime = 24:00:00
# Log filename for this run
log_name = satellite_glacier.log
email = your.email@example.com
# Satellite type: "sentinel2" or "landsat"
satellite = sentinel2
#which_steps_to_run = 1b
dry_run = False
# Execution mode: "auto" (detect), "hpc" (SLURM), "local" (direct execution)
execution_mode = auto
